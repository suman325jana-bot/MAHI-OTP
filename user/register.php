<?php require_once __DIR__ . '/../core/db.php'; $db = db(); if($_SERVER['REQUEST_METHOD']==='POST'){ $name=$db->real_escape_string($_POST['name']); $mobile=$db->real_escape_string($_POST['mobile']); $pass=$_POST['password']; if(!$mobile||!$pass){ echo 'Mobile+pass required'; exit; } $r=$db->query("SELECT id FROM users WHERE mobile='$mobile'"); if($r && $r->num_rows){ echo 'Exists'; exit; } $hash=password_hash($pass,PASSWORD_DEFAULT); $db->query("INSERT INTO users (name,mobile,password_hash) VALUES ('$name','$mobile','$hash')"); echo 'Registered. Please login.'; exit; } ?><!doctype html><html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'><title>Register</title><link rel='stylesheet' href='../assets/css/style.css'></head><body><div class='container'><h2>Register</h2><form method='POST'><input name='name' placeholder='Name'><br><input name='mobile' placeholder='Mobile' required><br><input name='password' type='password' placeholder='Password' required><br><button class='btn' type='submit'>Register</button></form></div></body></html>